<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.111.3">
    <meta name="description" content="DeltaOMS Documentation">
<meta name="author" content="Himanish Kushary (Databricks)">

    <link rel="icon" href="../../images/favicon.png" type="image/png">

    <title>General :: Delta Operational Metrics Store (DeltaOMS)</title>

    
    <link href="../../css/nucleus.css?1685021285" rel="stylesheet">
    <link href="../../css/fontawesome-all.min.css?1685021285" rel="stylesheet">
    <link href="../../css/hybrid.css?1685021285" rel="stylesheet">
    <link href="../../css/featherlight.min.css?1685021285" rel="stylesheet">
    <link href="../../css/perfect-scrollbar.min.css?1685021285" rel="stylesheet">
    <link href="../../css/auto-complete.css?1685021285" rel="stylesheet">
    <link href="../../css/atom-one-dark-reasonable.css?1685021285" rel="stylesheet">
    <link href="../../css/theme.css?1685021285" rel="stylesheet">
    <link href="../../css/tabs.css?1685021285" rel="stylesheet">
    <link href="../../css/hugo-theme.css?1685021285" rel="stylesheet">
    
    

    <script src="../../js/jquery-3.3.1.min.js?1685021285"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    

<script async defer src="https://buttons.github.io/buttons.js"></script>
  </head>
  <body class="" data-url="../../faq/general/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://databrickslabs.github.io/delta-oms/">
    <img src="../../images/DeltaOMS.png", width="85%">
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../js/lunr.min.js?1685021285"></script>
<script type="text/javascript" src="../../js/auto-complete.js?1685021285"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/databrickslabs.github.io\/delta-oms\/";
    
</script>
<script type="text/javascript" src="../../js/search.js?1685021285"></script>

    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href='../../'><i class='fas fa-home'></i> Home</a>
        </li>
      </ul>
    </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/getting_started/" title="Getting Started" class="dd-item
        
        
        
        ">
      <a href="../../getting_started/">
          Getting Started
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/getting_started/prerequisites/" title="Pre-Requisites" class="dd-item ">
        <a href="../../getting_started/prerequisites/">
        Pre-Requisites
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/getting_started/setup/" title="Setup" class="dd-item ">
        <a href="../../getting_started/setup/">
        Setup
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/getting_started/execute/" title="Execute" class="dd-item ">
        <a href="../../getting_started/execute/">
        Execute
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/getting_started/analyze/" title="Analyze" class="dd-item ">
        <a href="../../getting_started/analyze/">
        Analyze
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/getting_started/additionalconfigurations/" title="Additional Configuration" class="dd-item ">
        <a href="../../getting_started/additionalconfigurations/">
        Additional Configuration
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/developer_guide/" title="Developer Guide" class="dd-item
        
        
        
        ">
      <a href="../../developer_guide/">
          Developer Guide
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/developer_guide/configurationtables/" title="Configuration Tables" class="dd-item ">
        <a href="../../developer_guide/configurationtables/">
        Configuration Tables
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developer_guide/datatables/" title="Data Tables" class="dd-item ">
        <a href="../../developer_guide/datatables/">
        Data Tables
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developer_guide/datamodels/" title="Data Model" class="dd-item ">
        <a href="../../developer_guide/datamodels/">
        Data Model
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developer_guide/components/" title="Key Components" class="dd-item ">
        <a href="../../developer_guide/components/">
        Key Components
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/faq/" title="Frequently Asked Questions (FAQs)" class="dd-item
        parent
        
        
        ">
      <a href="../../faq/">
          Frequently Asked Questions (FAQs)
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/faq/general/" title="General" class="dd-item active">
        <a href="../../faq/general/">
        General
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/faq/execution/" title="Execution" class="dd-item ">
        <a href="../../faq/execution/">
        Execution
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/faq/security/" title="Security" class="dd-item ">
        <a href="../../faq/security/">
        Security
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/contributing/" title="Contributing" class="dd-item
        
        
        
        ">
      <a href="../../contributing/">
          Contributing
          
      </a>
      
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="footer">
      <center>

    
    <a class="github-button" href="https://github.com/databrickslabs/delta-oms/subscription"
       data-icon="octicon-eye" data-show-count="true" aria-label="DeltaOMS on GitHub">Watch</a>

    
    <a class="github-button" href="https://github.com/databrickslabs/delta-oms" data-icon="octicon-star" data-show-count="true" aria-label="Star databrickslabs/delta-oms on GitHub">Star</a>

    
    <a class="github-button" href="https://github.com/databrickslabs/delta-oms/fork"
       data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork DeltaOMS on GitHub">Fork</a>

    <p>A <a href="https://github.com/databrickslabs">Databricks Labs</a> project.</p>
</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>
    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../../'>Delta Operational Metrics Store (DeltaOMS)</a> > <a href='../../faq/'>Frequently Asked Questions (FAQs)</a> > General
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents"></nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              General
            </h1>
          

        


<p><strong>Q. What is Delta Operational Metrics Store ?</strong></p>
<p>Delta Operational metrics store (DeltaOMS) is a solution/framework for automated collection
and tracking of Delta commit/transaction logs and associated operational metrics from Delta Lake,
build a centralized repository for Delta Lake operational statistics and simplify analysis
across the entire data lake.</p>
<p>The solution can be easily enabled and configured to start capturing the operational metrics into a
centralized repository on the data lake. Once the transaction logs are collected in a
centralized database , it enables gaining operational insights, creating dashboards for traceability of operations
across the data lake through a single pane of glass and also other analytical use cases.</p>
<p><strong>Q. What are the benefits of using DeltaOMS ?</strong></p>
<p>Tracking and analyzing Delta Lake transaction logs and operational metrics across multiple
database objects requires building a custom solution on the Delta Lakehouse.
DeltaOMS helps to automate the collection of Delta transaction logs from multiple Delta Lake databases/tables
into a central repository on the lakehouse. This allows execution of more holistic analysis and
presentation through a single pane of glass dashboard for typical operational analytics.
This simplifies the process for users looking to gain insights into their Delta Lakehouse table operations.</p>
<p><strong>Q. What typical operational insights would I get from the solution ?</strong></p>
<p>DeltaOMS centralized repository provides interfaces for custom analysis on the Delta Lake
transaction logs and operational metrics using tools like Apache Spark, Databricks SQL etc.</p>
<p>For example, it could answer questions like :</p>
<ul>
<li>What are the most frequent WRITE operations across my data lake ?</li>
<li>Which are the expensive WRITE operations on my lake ?</li>
<li>How many WRITE operations were run on my Data Lake in the last hour ?</li>
<li>What is the average duration of WRITE operations on my database Delta tables ?</li>
<li>Which of the WRITE operations involve inserting the largest amount of data ?</li>
<li>Which are the top WRITE heavy databases in my data lake ?</li>
<li>Track File I/O ( bytes written, number of writes etc.) across my entire data lake</li>
<li>Tracking growth of data size, commit frequency etc. over time for tables/databases</li>
<li>Track changes over time for Delta operations/data</li>
<li>Did the delete operations for GDPR compliance go through and what changes it made to the filesystem ?</li>
<li>And many more &hellip;</li>
</ul>
<p><strong>Q. Who should use this feature ?</strong></p>
<p>Data Engineering teams, Data Lake Admins and Operational Analysts would be able to
manage and use this feature for operational insights on the Delta Lake.</p>
<p><strong>Q Can I run this solution on non-Databricks environment ?</strong></p>
<p>This project is distributed under Databricks license and cannot be used outside of Databricks environment</p>
<p><strong>Q. Does it support Unity Catalog on Databricks ?</strong></p>
<p>The latest version of DeltaOMS supports Unity Catalog by allowing specifying Unity catalog databases and tables
as Source tables to be monitored. These configuration can be executed through a Unity Ctaalog enabled cluster.
For subsequent processing of the Delta transaction logs , DeltaOMS needs to run the ingestion and processing jobs
on non Unity Catalog cluster and depends on the instance profile associated with a Databricks cluster to function.</p>
<p><strong>Q. How will I be charged ?</strong></p>
<p>This solution is fully deployed in the users Databricks or Spark environment. The jobs for the framework
will run on the execution environment.Depending on the configuration set by the users
(for example, update frequency of the audit logs, number of databases/delta path enabled, number of transactions ingested etc.),
the cost of the automated jobs and associated storage cost will vary.</p>
<p>We ran few simple ingestion benchmarks on an AWS based Databricks cluster :</p>
<table>
<thead>
<tr>
<th></th>
<th>Xtra Small</th>
<th>Small</th>
<th>Medium</th>
<th>Large</th>
</tr>
</thead>
<tbody>
<tr>
<td>Initial Txns</td>
<td>100000</td>
<td>87000</td>
<td>76400</td>
<td>27500</td>
</tr>
<tr>
<td>Avg Txns Size</td>
<td>~1 Kb</td>
<td>~500 Kb</td>
<td>~1 MB</td>
<td>~2.5 MB</td>
</tr>
<tr>
<td>Approx Total Txns Size</td>
<td>~100 Mb</td>
<td>~44 GB</td>
<td>~76 GB</td>
<td>~70 GB</td>
</tr>
<tr>
<td>Cluster Config<!-- raw HTML omitted --><em>- Workers</em><!-- raw HTML omitted --><em>- Driver</em><!-- raw HTML omitted --><em>- DB Runtime</em></td>
<td><!-- raw HTML omitted --><strong>(5) i3.2xl</strong> - 305 GB Mem , 40 Cores <!-- raw HTML omitted --><strong>i3.xl</strong> - 61 GB Mem, 8 Cores <!-- raw HTML omitted --> <strong>DB Runtime</strong> - 11.2</td>
<td><!-- raw HTML omitted --><strong>(5) i3.4xl</strong> - 610 GB Mem , 80 Cores <!-- raw HTML omitted --><strong>i3.2xl</strong> - 61 GB Mem, 8 Cores <!-- raw HTML omitted --> <strong>DB Runtime</strong> - 11.2</td>
<td><!-- raw HTML omitted --><strong>(5) i3.4xl</strong> - 610 GB Mem , 80 Cores <!-- raw HTML omitted --><strong>i3.2xl</strong> - 61 GB Mem, 8 Cores <!-- raw HTML omitted --> <strong>DB Runtime</strong> - 11.2</td>
<td><!-- raw HTML omitted --><strong>(5) i3.4xl</strong> - 610 GB Mem , 80 Cores <!-- raw HTML omitted --><strong>i3.2xl</strong> - 61 GB Mem, 8 Cores <!-- raw HTML omitted --> <strong>DB Runtime</strong> - 11.2</td>
</tr>
<tr>
<td>Initial Raw Ingestion Time</td>
<td>~15  mins</td>
<td>~ 50 mins</td>
<td>~ 60 mins</td>
<td>~ 40 mins</td>
</tr>
<tr>
<td>Incremental Additional Txns</td>
<td>1000</td>
<td>1000</td>
<td>1000</td>
<td>1000</td>
</tr>
<tr>
<td>Incremental Raw Ingestion Time</td>
<td>~ 1 min</td>
<td>~ 2 min</td>
<td>~ 3 min</td>
<td>~ 3 mins</td>
</tr>
</tbody>
</table>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="../../faq/" title="Frequently Asked Questions (FAQs)"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../faq/execution/" title="Execution" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../js/clipboard.min.js?1685021285"></script>
    <script src="../../js/perfect-scrollbar.min.js?1685021285"></script>
    <script src="../../js/perfect-scrollbar.jquery.min.js?1685021285"></script>
    <script src="../../js/jquery.sticky.js?1685021285"></script>
    <script src="../../js/featherlight.min.js?1685021285"></script>
    <script src="../../js/highlight.pack.js?1685021285"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../../js/modernizr.custom-3.6.0.js?1685021285"></script>
    <script src="../../js/learn.js?1685021285"></script>
    <script src="../../js/hugo-learn.js?1685021285"></script>
    
        
            <script src="../../mermaid/mermaid.js?1685021285"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

